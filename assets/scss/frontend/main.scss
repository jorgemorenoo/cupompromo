// =============================================================================
// MAIN SCSS - FRONTEND
// =============================================================================

// Importar variáveis e mixins
@import 'variables';
@import 'mixins';

// Reset e base
* {
    box-sizing: border-box;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
}

body {
    font-family: $font-family-primary;
    font-size: $font-size-base;
    line-height: $line-height-normal;
    color: $cupompromo-neutral-800;
    background-color: $cupompromo-neutral-100;
    margin: 0;
    padding: 0;
}

// Tipografia
h1, h2, h3, h4, h5, h6 {
    font-family: $font-family-secondary;
    font-weight: $font-weight-semibold;
    line-height: $line-height-tight;
    margin: 0 0 $spacing-md 0;
    color: $cupompromo-neutral-800;
}

h1 { font-size: $font-size-4xl; }
h2 { font-size: $font-size-3xl; }
h3 { font-size: $font-size-2xl; }
h4 { font-size: $font-size-xl; }
h5 { font-size: $font-size-lg; }
h6 { font-size: $font-size-base; }

p {
    margin: 0 0 $spacing-md 0;
    line-height: $line-height-relaxed;
}

a {
    color: $cupompromo-primary;
    text-decoration: none;
    transition: color $transition-fast;
    
    &:hover {
        color: darken($cupompromo-primary, 10%);
    }
}

// Container
.cupompromo-container {
    @include container;
}

// Botões
.cupompromo-btn {
    @include button-base;
    
    &--primary {
        @include button-primary;
    }
    
    &--secondary {
        @include button-secondary;
    }
    
    &--outline {
        @include button-outline;
    }
    
    &--small {
        padding: $spacing-xs $spacing-md;
        font-size: $font-size-sm;
    }
    
    &--large {
        padding: $spacing-md $spacing-xl;
        font-size: $font-size-lg;
    }
    
    &--full {
        width: 100%;
    }
}

// Cards
.cupompromo-card {
    @include card-base;
    padding: $spacing-lg;
    
    &--interactive {
        @include card-interactive;
    }
    
    &--compact {
        padding: $spacing-md;
    }
    
    &--featured {
        border: 2px solid $cupompromo-primary;
        box-shadow: $box-shadow-lg;
    }
}

// Inputs
.cupompromo-input {
    @include input-base;
    
    &--search {
        padding-left: $spacing-xl;
        background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%236C757D"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>');
        background-repeat: no-repeat;
        background-position: $spacing-sm center;
        background-size: 20px;
    }
}

// Grid
.cupompromo-grid {
    @include grid-responsive(1, 2, 3, 4);
    
    &--stores {
        @include grid-responsive(1, 2, 3, 4);
    }
    
    &--coupons {
        @include grid-responsive(1, 2, 3, 4);
    }
    
    &--categories {
        @include grid-responsive(1, 2, 3, 6);
    }
}

// Store Card
.cupompromo-store-card {
    @include card-interactive;
    padding: $spacing-lg;
    text-align: center;
    
    &__logo {
        width: 80px;
        height: 80px;
        margin: 0 auto $spacing-md;
        border-radius: $border-radius-md;
        object-fit: cover;
        background-color: $cupompromo-neutral-200;
    }
    
    &__title {
        font-size: $font-size-lg;
        font-weight: $font-weight-semibold;
        margin-bottom: $spacing-sm;
        @include text-truncate;
    }
    
    &__description {
        color: $cupompromo-neutral-600;
        margin-bottom: $spacing-md;
        @include text-truncate-multiline(2);
    }
    
    &__coupons-count {
        color: $cupompromo-primary;
        font-weight: $font-weight-medium;
        font-size: $font-size-sm;
    }
    
    &__discount {
        background-color: $cupompromo-accent;
        color: white;
        padding: $spacing-xs $spacing-sm;
        border-radius: $border-radius-sm;
        font-size: $font-size-sm;
        font-weight: $font-weight-medium;
        margin-top: $spacing-sm;
    }
}

// Coupon Card
.cupompromo-coupon-card {
    @include card-interactive;
    padding: $spacing-lg;
    
    &__header {
        @include flex-between;
        margin-bottom: $spacing-md;
    }
    
    &__store {
        @include flex-center;
        gap: $spacing-sm;
        
        &-logo {
            width: 32px;
            height: 32px;
            border-radius: $border-radius-sm;
            object-fit: cover;
        }
        
        &-name {
            font-weight: $font-weight-medium;
            color: $cupompromo-neutral-700;
        }
    }
    
    &__discount {
        background-color: $cupompromo-secondary;
        color: white;
        padding: $spacing-xs $spacing-sm;
        border-radius: $border-radius-sm;
        font-size: $font-size-sm;
        font-weight: $font-weight-medium;
    }
    
    &__title {
        font-size: $font-size-lg;
        font-weight: $font-weight-semibold;
        margin-bottom: $spacing-sm;
        @include text-truncate-multiline(2);
    }
    
    &__description {
        color: $cupompromo-neutral-600;
        margin-bottom: $spacing-md;
        @include text-truncate-multiline(3);
    }
    
    &__footer {
        @include flex-between;
        align-items: flex-end;
    }
    
    &__status {
        font-size: $font-size-sm;
        color: $cupompromo-neutral-500;
    }
    
    &__button {
        @include button-primary;
        font-size: $font-size-sm;
    }
}

// Search Bar
.cupompromo-search {
    background-color: white;
    padding: $spacing-lg;
    border-radius: $border-radius-lg;
    box-shadow: $box-shadow-sm;
    margin-bottom: $spacing-xl;
    
    &__form {
        @include flex-center;
        gap: $spacing-md;
        
        @include respond-to(md) {
            flex-direction: row;
        }
        
        @media (max-width: $breakpoint-md - 1px) {
            flex-direction: column;
        }
    }
    
    &__input {
        flex: 1;
        @include input-base;
        @include input-base;
        
        &--search {
            @extend .cupompromo-input--search;
        }
    }
    
    &__button {
        @include button-primary;
        white-space: nowrap;
    }
}

// Modal
.cupompromo-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    @include flex-center;
    z-index: $z-index-modal;
    opacity: 0;
    visibility: hidden;
    transition: all $transition-normal;
    
    &--active {
        opacity: 1;
        visibility: visible;
    }
    
    &__content {
        background-color: white;
        border-radius: $border-radius-lg;
        padding: $spacing-xl;
        max-width: 500px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        transform: translateY(20px);
        transition: transform $transition-normal;
        
        .cupompromo-modal--active & {
            transform: translateY(0);
        }
    }
    
    &__header {
        @include flex-between;
        margin-bottom: $spacing-lg;
        padding-bottom: $spacing-md;
        border-bottom: 1px solid $cupompromo-neutral-300;
    }
    
    &__title {
        font-size: $font-size-xl;
        font-weight: $font-weight-semibold;
        margin: 0;
    }
    
    &__close {
        background: none;
        border: none;
        font-size: $font-size-xl;
        cursor: pointer;
        color: $cupompromo-neutral-500;
        padding: 0;
        width: 32px;
        height: 32px;
        @include flex-center;
        border-radius: $border-radius-sm;
        transition: all $transition-fast;
        
        &:hover {
            background-color: $cupompromo-neutral-200;
            color: $cupompromo-neutral-700;
        }
    }
}

// Loading States
.cupompromo-loading {
    @include loading;
}

.cupompromo-skeleton {
    background: linear-gradient(90deg, $cupompromo-neutral-200 25%, $cupompromo-neutral-300 50%, $cupompromo-neutral-200 75%);
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s infinite;
    border-radius: $border-radius-md;
    
    &--text {
        height: 1em;
        margin-bottom: $spacing-sm;
    }
    
    &--title {
        height: 1.5em;
        margin-bottom: $spacing-md;
    }
    
    &--button {
        height: 2.5em;
        width: 100px;
    }
}

@keyframes skeleton-loading {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

// Responsive Utilities
.cupompromo-hidden {
    &--mobile {
        @media (max-width: $breakpoint-md - 1px) {
            display: none !important;
        }
    }
    
    &--tablet {
        @media (min-width: $breakpoint-md) and (max-width: $breakpoint-lg - 1px) {
            display: none !important;
        }
    }
    
    &--desktop {
        @media (min-width: $breakpoint-lg) {
            display: none !important;
        }
    }
}

.cupompromo-visible {
    &--mobile {
        @media (min-width: $breakpoint-md) {
            display: none !important;
        }
    }
    
    &--tablet {
        @media (max-width: $breakpoint-md - 1px), (min-width: $breakpoint-lg) {
            display: none !important;
        }
    }
    
    &--desktop {
        @media (max-width: $breakpoint-lg - 1px) {
            display: none !important;
        }
    }
}

// Print Styles
@media print {
    .cupompromo-btn,
    .cupompromo-modal,
    .cupompromo-search {
        display: none !important;
    }
    
    .cupompromo-card {
        box-shadow: none !important;
        border: 1px solid $cupompromo-neutral-300 !important;
    }
} 